# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type User {
  id: ID!
  name: String!
  email: Email!
  phone: Phone!
  veganLevel: VEGAN_LEVEL_TYPE
  zipCode: ZipCode
  address: String
  addressDetail: String
  bln: BusinessLicenseNumber
  role: ROLE_TYPE!
  balance: Int!
}

"""이메일 형식: @가 포함되어있어야함."""
scalar Email

"""일반적인 핸드폰 번호 형식을 적용. 번호 사이에 -가 들어감"""
scalar Phone

"""비건 레벨(0~6단계)에 대한 타입"""
enum VEGAN_LEVEL_TYPE {
  """0단계 비건 - 플렉시테리언"""
  FLEX

  """1단계 비건 - 폴로"""
  POLO

  """2단계 비건 - 페스코"""
  PESCO

  """3단계 비건 - 락토오보"""
  LACTOOVO

  """4단계 비건 - 오보"""
  OVO

  """5단계 비건 - 락토"""
  LACTO

  """6단계 비건 - 비건"""
  VEGAN
}

"""우편번호"""
scalar ZipCode

"""사업자등록번호형식: (101~999)-(01~99)-(0001~9999)(0~9)"""
scalar BusinessLicenseNumber

"""유저 역할에 대한 타입"""
enum ROLE_TYPE {
  """구매자(일반 유저)"""
  BUYER

  """판매자"""
  SELLER
}

type Product {
  id: ID!
  name: String!
  category: PRODUCT_CATEGORY_TYPE!
  description: String!
  image: String!
  veganLevel: VEGAN_LEVEL_TYPE
  deliveryFee: Int!
  price: Int!
  discount: Int!
  isOutOfStock: Boolean!
}

"""물품 카테고리에 대한 타입"""
enum PRODUCT_CATEGORY_TYPE {
  """식품 카테고리"""
  FOOD

  """음료 카테고리"""
  DRINK

  """화장품 카테고리"""
  BEAUTY

  """생활용품 카테고리"""
  LIFE
}

type Review {
  id: ID!
  title: String!
  contents: String!
  rating: Int!
  user: User!
  images: [Image!]
  createdAt: DateTime!
  updatedAt: DateTime!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type Image {
  id: ID!
  url: String!
}

type Question {
  id: ID!
  title: String!
  contents: String!
  product: Product!
  user: User!
}

type Point {
  id: ID!
  impUid: ID!
  amount: Int!
  status: POINT_TRANSACTION_STATUS_ENUM!
  user: User!
  createdAt: DateTime!
}

"""결제 상태에 대한 타입"""
enum POINT_TRANSACTION_STATUS_ENUM {
  """결제완료"""
  PAID

  """환불완료"""
  CANCELLED
}

type Query {
  fetchLoginUser: User!
  fetchProducts: [Product!]!
  fetchProduct(productId: String!): Product!
  fetchProductsCount: Int!
  fetchReview(reviewId: ID!): Review!
  fetchQuestion(questionId: ID!): Question!
  fetchPointTransactions(startDate: DateTime, endDate: DateTime, page: Int!): [Point!]!
}

type Mutation {
  uploadFile(file: Upload!): String!
  login(email: String!, password: String!): String!
  restoreAccessToken: String!
  checkBusinessLicenseNumber(bln: BusinessLicenseNumber!): Boolean!
  checkEmailExist(email: Email!): Boolean!
  createUser(createUserInput: CreateUserInput!): User!
  checkUserPassword(password: Password!): Boolean!
  updateUser(updateUserInput: UpdateUserInput!): User!
  updateUserPassword(password: Password!): User!
  deleteLoginUser: Boolean!
  restoreUser(email: Email!): Boolean!
  createProduct(createProductInput: CreateProductInput!): Product!
  updateProduct(productId: String!, updateProductInput: UpdateProductInput!): Product!
  deleteProduct(productId: String!): Boolean!
  getToken(phone: Phone!): String!
  checkValidToken(phone: Phone!, token: String!): String!
  createReview(createReviewInput: CreateReviewInput!): Review!
  updateReview(updateReviewInput: UpdateReviewInput!, reviewId: ID!): Review!
  deleteReview(reviewId: String!): Boolean!
  createQuestion(createQuestionInput: CreateQuestionInput!, productId: String!): Question!
  updateQuestion(updateQuestionInput: UpdateQuestionInput!, questionId: ID!): Question!
  deleteQuestion(questionId: String!): Boolean!
  createPointCharge(
    """포인트 결제를 진행한 imp 결제번호"""
    impUid: ID!

    """포인트 충전 금액"""
    amount: Int!
  ): Point!
  cancelPointCharge(impUid: ID!): Point!
}

"""The `Upload` scalar type represents a file upload."""
scalar Upload

input CreateUserInput {
  name: String!
  email: Email!
  password: Password!
  phone: Phone!
  veganLevel: VEGAN_LEVEL_TYPE
  zipCode: ZipCode
  address: String
  addressDetail: String
  bln: BusinessLicenseNumber
}

"""비밀번호 형식: 알파벳 대,소문자, 숫자, 특수기호(!@#$%^&*?) 각 1개씩 포함, (최소: 8글자, 최대 16글자)"""
scalar Password

input UpdateUserInput {
  name: String
  veganLevel: VEGAN_LEVEL_TYPE
  zipCode: ZipCode
  address: String
  addressDetail: String
}

input CreateProductInput {
  name: String!
  category: PRODUCT_CATEGORY_TYPE!
  description: String!
  image: String!
  veganLevel: VEGAN_LEVEL_TYPE
  deliveryFee: Int!
  price: Int!
  discount: Int!
}

input UpdateProductInput {
  name: String
  category: PRODUCT_CATEGORY_TYPE
  description: String
  image: String
  veganLevel: VEGAN_LEVEL_TYPE
  deliveryFee: Int
  price: Int
  discount: Int
}

input CreateReviewInput {
  title: String!
  contents: String!
  rating: Int!
  images: [String!]
}

input UpdateReviewInput {
  title: String
  contents: String
  rating: Int
  images: [String!]
}

input CreateQuestionInput {
  title: String!
  contents: String!
}

input UpdateQuestionInput {
  title: String
  contents: String
}